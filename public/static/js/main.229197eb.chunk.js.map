{"version":3,"sources":["components/Header/Header.jsx","components/Footer/Footer.jsx","contexts/CurrentUserContext.jsx","components/Card/Card.jsx","components/Main/Main.jsx","components/ImagePopup/ImagePopup.jsx","utils/api.js","components/PopupWithForm/PopupWithForm.jsx","components/EditProfilePopup/EditProfilePopup.jsx","components/EditAvatarPopup/EditAvatarPopup.jsx","components/AddPlacePopup/AddPlacePopu.jsx","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","React","Component","Footer","year","Date","getFullYear","CurrentUserContext","createContext","Card","props","state","selectedCard","render","bind","handleCardClick","handleLikeClick","handleDeleteClick","this","onCardLike","cardInfo","evt","onCardDelete","onCardClick","link","name","isOwn","owner","_id","context","isLiked","likes","some","i","undefined","src","alt","onClick","aria-label","type","length","contextType","Main","style","backgroundImage","avatar","openEditAvatarPopup","openEditProfilePopup","about","openAddPlacePopup","cards","map","item","ImagePopup","srcImg","title","closeAllPopups","api","config","_baseUrl","url","_headers","headers","promise","then","res","ok","json","Promise","reject","status","fetch","method","_controlError","obj","body","JSON","stringify","avatarUrl","cardId","authorization","PopupWithForm","isOpen","onSubmit","children","tabIndex","EditProfilePopup","inputUserName","inputUserAbout","handleSubmit","handleChangeUserAbout","handleChangeUserName","event","preventDefault","onUpdateUser","setState","target","value","onClose","id","placeholder","autoComplete","minLength","maxLength","onChange","required","EditAvatarPopup","avatarRef","createRef","onUpdateAvatar","current","ref","AddPlacePopu","cardName","cardLink","handleChangeCardLink","handleChangeCardName","console","log","onAddPlace","App","isEditProfilePopupOpen","isAddPlacePopupOpen","isEditAvatarPopupOpen","currentUser","handleEditProfileClick","handleEditAvatarClick","handleAddPlaceClick","componentDidMount","handleUpdateUser","handleUpdateAvatar","handleAddCard","handleCardDelete","handleCardLike","getUserInfo","catch","err","getAllCards","setUserInfo","setUserAvatar","addNewCard","cardTitle","card","changeLikeCardStatus","newCards","deleteCardById","filter","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.229197eb.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Header.css'\r\nclass Header extends React.Component {\r\n  render() {\r\n    return (\r\n      <header className=\"header\">\r\n        <div className=\"header__logo\"/>\r\n      </header>)\r\n  }\r\n}\r\n\r\nexport default Header","import React from 'react';\r\nimport './Footer.css'\r\n\r\nclass Footer extends React.Component {\r\n  render() {\r\n    let year = new Date().getFullYear()\r\n    return (\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">© {year} Mesto Russia </p>\r\n      </footer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext()\r\n","import React from 'react';\r\nimport {CurrentUserContext} from \"../../contexts/CurrentUserContext\";\r\n\r\nclass Card extends React.Component {\r\n  static contextType = CurrentUserContext\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedCard: props.selectedCard,\r\n    }\r\n    this.render = this.render.bind(this)\r\n    this.handleCardClick = this.handleCardClick.bind(this)\r\n    this.handleLikeClick = this.handleLikeClick.bind(this)\r\n    this.handleDeleteClick = this.handleDeleteClick.bind(this )\r\n  }\r\n\r\n  handleLikeClick(){\r\n    this.props.onCardLike(this.props.cardInfo)\r\n  }\r\n\r\n  handleDeleteClick(evt){\r\n    this.props.onCardDelete(this.props.cardInfo)\r\n  }\r\n\r\n  handleCardClick() {\r\n    this.props.onCardClick(\r\n      this.props.cardInfo.link,\r\n      this.props.cardInfo.name)\r\n  }\r\n\r\n  render() {\r\n    const isOwn = this.props.cardInfo.owner._id === this.context._id;\r\n    const isLiked = this.props.cardInfo.likes.some(i => i._id === this.context._id)\r\n    if (this.props.cardInfo !== undefined) {\r\n      return (\r\n        <div className=\"card-template\">\r\n          <div className=\"card\">\r\n            <img src={this.props.cardInfo.link}\r\n                 alt={this.props.cardInfo.name}\r\n                 className=\"card__image\"\r\n                 onClick={this.handleCardClick}/>\r\n            <button aria-label=\"Delete card\"\r\n                    onClick={this.handleDeleteClick}\r\n                    className={isOwn ? 'card__trash-can' : ''}/>\r\n            <div className=\"card__section\">\r\n              <h2 className=\"card__title\">{this.props.cardInfo.name}</h2>\r\n              <div className=\"card__like-container\">\r\n                <button aria-label=\"Like-button\"\r\n                        type=\"button\"\r\n                        onClick={this.handleLikeClick}\r\n                        className={isLiked ? \"card__like card_liked\" : \"card__like\" }/>\r\n                <p className=\"card__likes-number\">{this.props.cardInfo.likes.length}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    } else {\r\n      return <div/>\r\n    }\r\n  }\r\n}\r\n\r\nexport default Card","import React from 'react';\r\nimport Card from \"../Card/Card\"\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext'\r\n\r\nclass Main extends React.Component {\r\n  static contextType = CurrentUserContext\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.render = this.render.bind(this)\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <main>\r\n        <section className=\"profile\">\r\n          <div className=\"profile__column\">\r\n            <div className=\"profile__avatar-container\">\r\n              <div className=\"profile__avatar\"\r\n                   style={{backgroundImage: `url(${this.context.avatar})`}}/>\r\n              <div className=\"profile__avatar-edit\"\r\n                   onClick={this.props.openEditAvatarPopup}\r\n              >\r\n                <div className=\"profile__avatar-edit-ico\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"profile__info\">\r\n              <div className=\"profile__info-column\">\r\n                <p className=\"profile__user-name\">{this.context.name}</p>\r\n                <button aria-label=\"Edit profile\"\r\n                        type=\"button\"\r\n                        className=\"profile__edit-button\"\r\n                        onClick={this.props.openEditProfilePopup}/>\r\n              </div>\r\n              <p className=\"profile__subtitle\">{this.context.about}</p>\r\n            </div>\r\n          </div>\r\n          <button aria-label=\"Add new card\"\r\n                  type=\"button\"\r\n                  className=\"profile__add-button\"\r\n                  onClick={this.props.openAddPlacePopup}/>\r\n        </section>\r\n        <section className=\"elements\">\r\n          {this.props.cards.map((item) => {\r\n              return (\r\n                <Card key={item._id}\r\n                      cardInfo={item}\r\n                      onCardClick={this.props.onCardClick}\r\n                      onCardLike={this.props.onCardLike}\r\n                      onCardDelete={this.props.onCardDelete}\r\n                />\r\n              )\r\n            }\r\n          )}\r\n        </section>\r\n      </main>)\r\n  }\r\n}\r\n\r\nexport default Main","import React from 'react';\r\n\r\nclass ImagePopup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.render = this.render.bind(this)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.props.selectedCard ? (\r\n        <div className={`popup-image popup_opened`}>\r\n          <div className=\"popup-image__overlay popup-overlay\"/>\r\n          <div className=\"popup-image__container\">\r\n            <div>\r\n              <img src={this.props.srcImg} alt={this.props.title} className=\"popup-image__item\"/>\r\n              <p className=\"popup-image__title\">{this.props.title}</p>\r\n              <button aria-label=\"Close\"\r\n                      className=\"popup-image__escape-button popup_close_button\"\r\n                      onClick={this.props.closeAllPopups}/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : null)\r\n  }\r\n}\r\n\r\nexport default ImagePopup","import React from 'react';\r\n\r\nclass Api extends React.Component {\r\n  constructor(config) {\r\n    super()\r\n    this._baseUrl = config.url;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  _controlError(promise) {\r\n    return promise.then((res) => {\r\n      if (!res.ok) {\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      } else {\r\n        return res.json()\r\n      }\r\n\r\n    })\r\n  }\r\n\r\n  getAllCards() {\r\n    const promise = fetch(`${this._baseUrl}cards`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    });\r\n    return this._controlError(promise)\r\n  }\r\n\r\n  addNewCard(obj) {\r\n    const promise = fetch(`${this._baseUrl}cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: obj.name,\r\n        link: obj.link\r\n      })\r\n    })\r\n    return this._controlError(promise)\r\n  }\r\n\r\n  getUserInfo() {\r\n    const promise = fetch(`${this._baseUrl}users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n    return this._controlError(promise)\r\n  }\r\n\r\n  setUserInfo(obj) {\r\n    const promise = fetch(`${this._baseUrl}users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: obj.name,\r\n        about: obj.about\r\n      })\r\n    })\r\n    return this._controlError(promise)\r\n  }\r\n\r\n  setUserAvatar(avatarUrl) {\r\n    const promise = fetch(`${this._baseUrl}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatarUrl\r\n      })\r\n    })\r\n    return this._controlError(promise)\r\n  }\r\n\r\n  deleteCardById(cardId) {\r\n    const promise = fetch(`${this._baseUrl}cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n    return this._controlError(promise)\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked === true) {\r\n      const promise = fetch(`${this._baseUrl}cards/likes/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: this._headers,\r\n      })\r\n      return this._controlError(promise)\r\n    } else {\r\n      const promise = fetch(`${this._baseUrl}cards/likes/${cardId}`, {\r\n        method: 'PUT',\r\n        headers: this._headers,\r\n      })\r\n      return this._controlError(promise)\r\n    }\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-17/\",\r\n  headers: {\r\n    authorization: 'cef396cb-7f39-49a2-a008-1d3b290a4906',\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\nexport default api","import React from 'react';\r\n\r\nclass PopupWithForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.render = this.render.bind(this)\r\n    this.state = {\r\n      isOpen: this.props.isOpen\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isOpen === true) {\r\n      return (\r\n        <div className={`popup popup_opened popup_type_${this.props.name}`}>\r\n          <div className=\"popup__overlay\"/>\r\n          <form name={`popup_type_${this.props.name}`}\r\n                onSubmit={this.props.onSubmit}\r\n                className=\"popup__form popup__container\">\r\n            <p className=\"popup__title\">{`${this.props.title}`}</p>\r\n            <div>\r\n              {this.props.children}\r\n            </div>\r\n            <button aria-label=\"Save\"\r\n                    type=\"submit\"\r\n                    className=\" popup__button popup__save-button save__button\"\r\n                    tabIndex=\"0\">\r\n              Сохранить\r\n            </button>\r\n            <button aria-label=\"Close popup\"\r\n                    type=\"button\"\r\n                    className=\"popup__escape-button popup_close_button\"\r\n                    onClick={this.props.closeAllPopups}/>\r\n          </form>\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default PopupWithForm","import React from 'react'\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext'\r\n\r\nexport default class EditProfilePopup extends React.Component {\r\n  static contextType = CurrentUserContext\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.render = this.render.bind(this)\r\n    this.state = {\r\n      name: 'profile',\r\n      title: 'Редактировать профиль',\r\n      inputUserName: '',\r\n      inputUserAbout: ''\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this)\r\n    this.render = this.render.bind(this)\r\n    this.handleChangeUserAbout = this.handleChangeUserAbout.bind(this)\r\n    this.handleChangeUserName = this.handleChangeUserName.bind(this)\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    this.props.onUpdateUser({\r\n      name: this.state.inputUserName,\r\n      about: this.state.inputUserAbout\r\n    });\r\n  }\r\n\r\n  handleChangeUserName(event) {\r\n    this.setState({\r\n      inputUserName: event.target.value\r\n    });\r\n  }\r\n\r\n  handleChangeUserAbout(event) {\r\n    this.setState({\r\n      inputUserAbout: event.target.value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <PopupWithForm\r\n        closeAllPopups={this.props.onClose}\r\n        onSubmit={this.handleSubmit}\r\n        isOpen={this.props.isOpen}\r\n        name={this.state.name}\r\n        title={this.state.title}\r\n        children={\r\n          <div className=\"popup__input-box\">\r\n            <input id=\"input-name\"\r\n                   type=\"text\"\r\n                   name=\"user\"\r\n                   placeholder=\"Имя\"\r\n                   autoComplete=\"off\"\r\n                   minLength=\"2\"\r\n                   maxLength=\"40\"\r\n                   className=\"popup__input form__input  form__input_first form__input_name\"\r\n                   tabIndex=\"0\"\r\n                   onChange={this.handleChangeUserName}\r\n                   value={this.state.inputUserName}\r\n                   required/>\r\n            <span id=\"input-name-error\"\r\n                  className=\"popup__error\"/>\r\n            <input onChange={this.handleChangeUserAbout}\r\n                   value={this.state.inputUserAbout}\r\n                   id=\"input-subtitle\"\r\n                   type=\"text\"\r\n                   name=\"about-user\"\r\n                   placeholder=\"О себе\"\r\n                   autoComplete=\"off\"\r\n                   minLength=\"2\"\r\n                   required\r\n                   className=\"form__input_second popup__input form__input form__input_subtitle\"\r\n                   tabIndex=\"0\"/>\r\n            <span id=\"input-subtitle-error\"\r\n                  className=\"popup__error\"/>\r\n          </div>}/>\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport class EditAvatarPopup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.avatarRef = React.createRef()\r\n    this.state = {\r\n      name: \"avatar\",\r\n      title: \"Изменение аватара\",\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this)\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    this.props.onUpdateAvatar(this.avatarRef.current.value);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <PopupWithForm\r\n        closeAllPopups={this.props.onClose}\r\n        onSubmit={this.handleSubmit}\r\n        isOpen={this.props.isOpen}\r\n        name={this.state.name}\r\n        title={this.state.title}\r\n        children={\r\n          <div className=\"popup__input-box\">\r\n            <input id=\"input-avatar-url\"\r\n                   type=\"url\"\r\n                   ref={this.avatarRef}\r\n                   name=\"avatar-src\"\r\n                   autoComplete=\"off\"\r\n                   placeholder=\"Ссылка на картинку\"\r\n                   required\r\n                   className=\"popup__input popup-avatar__input  form__input  form__input_src form__input_first form__input_second\"\r\n                   tabIndex=\"0\"/>\r\n            <span id=\"input-avatar-url-error\"/>\r\n          </div>}/>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport class AddPlacePopu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"place\",\r\n      title: \"Новое место\",\r\n      cardName: '',\r\n      cardLink: ''\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this)\r\n    this.render = this.render.bind(this)\r\n    this.handleChangeCardLink = this.handleChangeCardLink.bind(this)\r\n    this.handleChangeCardName = this.handleChangeCardName.bind(this)\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    console.log({\r\n      name: this.state.cardName,\r\n      link: this.state.cardLink\r\n    })\r\n    this.props.onAddPlace({\r\n      name: this.state.cardName,\r\n      link: this.state.cardLink\r\n    });\r\n  }\r\n\r\n  handleChangeCardName (evt) {\r\n    this.setState({\r\n      cardName: evt.target.value\r\n    })\r\n  }\r\n\r\n  handleChangeCardLink (evt) {\r\n    this.setState({\r\n      cardLink: evt.target.value\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <PopupWithForm\r\n        closeAllPopups={this.props.onClose}\r\n        isOpen={this.props.isOpen}\r\n        onSubmit={this.handleSubmit}\r\n        name={this.state.name}\r\n        title={this.state.title}\r\n        children={\r\n          <div className=\"popup__input-box\">\r\n            <input id=\"input-card-name\"\r\n                   onChange={this.handleChangeCardName}\r\n                   value={this.state.cardName}\r\n                   type=\"text\"\r\n                   minLength=\"1\"\r\n                   maxLength=\"30\"\r\n                   name=\"card-name\"\r\n                   autoComplete=\"off\"\r\n                   placeholder=\"Название\"\r\n                   required\r\n                   className=\" popup__input popup-card__input  form__input   form__input_name  form__input_first\"\r\n                   tabIndex=\"0\"/>\r\n            <span id=\"input-card-name-error\"\r\n                  className=\"popup__error \"/>\r\n            <input id=\"input-url\"\r\n                   onChange={this.handleChangeCardLink}\r\n                   value={this.state.cardLink}\r\n                   type=\"url\"\r\n                   name=\"card-src\"\r\n                   autoComplete=\"off\"\r\n                   placeholder=\"Ссылка на картинку\"\r\n                   required\r\n                   className=\"popup__input popup-card__input  form__input  form__input_src form__input_second\"\r\n                   tabIndex=\"0\"/>\r\n            <span id=\"input-url-error\" className=\"popup__error \"/>\r\n          </div>\r\n        }/>\r\n    )\r\n  }\r\n}\r\n","import '../App.css';\r\nimport React from \"react\";\r\nimport Header from \"./Header/Header\";\r\nimport Footer from \"./Footer/Footer\";\r\nimport Main from \"./Main/Main\";\r\nimport ImagePopup from \"./ImagePopup/ImagePopup\";\r\nimport api from \"./../utils/api\"\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup/EditProfilePopup\";\r\nimport {EditAvatarPopup} from \"./EditAvatarPopup/EditAvatarPopup\";\r\nimport {AddPlacePopu} from \"./AddPlacePopup/AddPlacePopu\";\r\n\r\n\r\nclass App extends React.Component {\r\n  static contextType = CurrentUserContext\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isEditProfilePopupOpen: false,\r\n      isAddPlacePopupOpen: false,\r\n      isEditAvatarPopupOpen: false,\r\n      name: '',\r\n      title: '',\r\n      children: '',\r\n      isOpen: false,\r\n      onClose: true,\r\n      selectedCard: false,\r\n      currentUser: '',\r\n      cards: []\r\n    }\r\n    this.handleEditProfileClick = this.handleEditProfileClick.bind(this)\r\n    this.handleEditAvatarClick = this.handleEditAvatarClick.bind(this)\r\n    this.handleAddPlaceClick = this.handleAddPlaceClick.bind(this)\r\n    this.handleCardClick = this.handleCardClick.bind(this)\r\n    this.closeAllPopups = this.closeAllPopups.bind(this)\r\n    this.render = this.render.bind(this)\r\n    this.componentDidMount = this.componentDidMount.bind(this)\r\n    this.handleUpdateUser = this.handleUpdateUser.bind(this)\r\n    this.handleUpdateAvatar = this.handleUpdateAvatar.bind(this)\r\n    this.handleAddCard = this.handleAddCard.bind(this)\r\n    this.handleCardDelete = this.handleCardDelete.bind(this)\r\n    this.handleCardLike = this.handleCardLike.bind(this)\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    // получение данных пользователя с сервера\r\n    api.getUserInfo().then((res) => {\r\n      this.setState({\r\n        currentUser: res\r\n      })\r\n    })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    // получение списка карточек с сервера\r\n    api.getAllCards().then((res) => {\r\n      this.setState({\r\n        cards: res\r\n      })\r\n    })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n// обновление данных пользователя\r\n  handleUpdateUser(obj) {\r\n    api.setUserInfo(obj).then((res) => {\r\n      this.setState({\r\n        currentUser: res\r\n      })\r\n      this.closeAllPopups()\r\n    })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n// обновление аватара пользователя\r\n  handleUpdateAvatar(avatar) {\r\n    api.setUserAvatar(avatar).then((res) => {\r\n      this.setState({\r\n        currentUser: res\r\n      })\r\n      this.closeAllPopups()\r\n    })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n// добавление новой карточки\r\n  handleAddCard(obj) {\r\n    api.addNewCard(obj).then((res) => {\r\n      this.setState({\r\n        cards: [res, ...this.state.cards]\r\n      })\r\n      this.closeAllPopups()\r\n    })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n// закрытие всех попапов\r\n  closeAllPopups() {\r\n    this.setState({\r\n      isOpen: false,\r\n      selectedCard: false,\r\n      onClose: true,\r\n      isEditProfilePopupOpen: false,\r\n      isAddPlacePopupOpen: false,\r\n      isEditAvatarPopupOpen: false\r\n    })\r\n  }\r\n\r\n//открытие попапа редактирования профиля\r\n  handleEditProfileClick(evt) {\r\n    this.setState({\r\n      onClose: !this.state.onClose,\r\n      isOpen: !this.state.isOpen,\r\n      name: 'profile',\r\n      title: 'Редактировать профиль',\r\n      isEditProfilePopupOpen: true\r\n    })\r\n  }\r\n\r\n// открытие попапа измеения аватара\r\n  handleEditAvatarClick(evt) {\r\n    this.setState({\r\n      onClose: !this.state.onClose,\r\n      isOpen: !this.state.isOpen,\r\n      name: 'avatar',\r\n      title: 'Обновить аватар',\r\n      isEditAvatarPopupOpen: true\r\n    })\r\n  }\r\n\r\n// открытие попапа добавления карточки\r\n  handleAddPlaceClick(evt) {\r\n    this.setState({\r\n      onClose: !this.state.onClose,\r\n      name: 'place',\r\n      isOpen: !this.state.isOpen,\r\n      title: 'Новое место',\r\n      isAddPlacePopupOpen: true\r\n    })\r\n\r\n  }\r\n\r\n// открытие попапа превью карточки\r\n  handleCardClick(src, name) {\r\n    this.setState({\r\n      selectedCard: true,\r\n      onClose: false,\r\n      cardLink: src,\r\n      cardTitle: name\r\n    })\r\n  }\r\n\r\n// лайк карточки\r\n  handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === this.state.currentUser._id);\r\n    api.changeLikeCardStatus(card._id, isLiked).then((res) => {\r\n      const newCards = this.state.cards.map((item) => item._id === card._id ? res : item);\r\n      this.setState({\r\n        cards: newCards\r\n      })\r\n    });\r\n  }\r\n\r\n// удаление карточки\r\n  handleCardDelete(card) {\r\n    api.deleteCardById(card._id).then((res) => {\r\n      const newCards = this.state.cards.filter((item) => item._id !== card._id ? item : null);\r\n      this.setState({\r\n        cards: newCards\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <CurrentUserContext.Provider value={this.state.currentUser}>\r\n        <div className=\"App\">\r\n          <div className=\"page\">\r\n            <Header/>\r\n            <Main openAddPlacePopup={this.handleAddPlaceClick}\r\n                  openEditProfilePopup={this.handleEditProfileClick}\r\n                  openEditAvatarPopup={this.handleEditAvatarClick}\r\n                  onCardClick={this.handleCardClick}\r\n                  closeAllPopups={this.closeAllPopups}\r\n                  cards={this.state.cards}\r\n                  onCardLike={this.handleCardLike}\r\n                  onCardDelete={this.handleCardDelete}\r\n            />\r\n            <Footer/>\r\n          </div>\r\n          {/*попап изменения профиля*/}\r\n          {this.state.isEditProfilePopupOpen === true ? <EditProfilePopup isOpen={this.state.isEditProfilePopupOpen}\r\n                                                                          onUpdateUser={this.handleUpdateUser}\r\n                                                                          onClose={this.closeAllPopups}/> : null}\r\n          {/*попап изменения аватара*/}\r\n          {this.state.isEditAvatarPopupOpen === true ? <EditAvatarPopup isOpen={this.state.isEditAvatarPopupOpen}\r\n                                                                        onUpdateAvatar={this.handleUpdateAvatar}\r\n                                                                        onClose={this.closeAllPopups}/> : null}\r\n          {/*попап добавления карточки*/}\r\n          {this.state.isAddPlacePopupOpen === true ? <AddPlacePopu isOpen={this.state.isAddPlacePopupOpen}\r\n                                                                   onAddPlace={this.handleAddCard}\r\n                                                                   onClose={this.closeAllPopups}/> : null}\r\n\r\n\r\n          <ImagePopup srcImg={this.state.cardLink}\r\n                      title={this.state.cardTitle}\r\n                      closeAllPopups={this.closeAllPopups}\r\n                      selectedCard={this.state.selectedCard}/>\r\n        </div>\r\n      </CurrentUserContext.Provider>)\r\n  }\r\n}\r\n\r\nexport default App\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode >\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}